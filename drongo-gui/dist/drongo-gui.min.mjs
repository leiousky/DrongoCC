import{Injector}from"drongo-cc";import{GComponent,GRoot}from"drongo-fgui";class Layer extends GComponent{constructor(e,r=!1){super(),this.node.name=e,this.isFullScrene=r,this.openRecord=[],this.makeFullScreen()}getCount(){return this.numChildren}}class LayerManagerImpl{constructor(){this.__layerMap=new Map}addLayer(e,r){if(!(r instanceof Layer))throw new Error("层必须是CCFUILayer");GRoot.inst.addChild(r),this.__layerMap.set(e,r)}removeLayer(e){let r=this.__layerMap.get(e);if(!r)throw new Error("找不到要删除的层："+e);GRoot.inst.removeChild(r),this.__layerMap.delete(e)}getLayer(e){return this.__layerMap.get(e)}getAllLayer(){let e=[];return this.__layerMap.forEach((function(r,t){e.push(r)})),e}}class LayerManager{static addLayer(e,r){this.impl.addLayer(e,r)}static removeLayer(e){this.impl.removeLayer(e)}static getLayer(e){return this.impl.getLayer(e)}static getAllLayer(){return this.impl.getAllLayer()}static get impl(){return null==this.__impl&&(this.__impl=Injector.getInject(this.KEY)),null==this.__impl&&(this.__impl=new LayerManagerImpl),this.__impl}}LayerManager.KEY="drongo.LayerManager";export{Layer,LayerManager,LayerManagerImpl};