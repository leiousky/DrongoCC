// Generated by dts-bundle v0.7.3
// Dependencies for this module:
//   ../cc

declare module 'drongo-cc' {
    export { AudioManager } from "drongo-cc/audios/AudioManager";
    export { Injector } from "drongo-cc/utils/Injector";
    export { Timer } from "drongo-cc/utils/Timer";
    export { TickManager } from "drongo-cc/tick/TickerManager";
    export { List } from "drongo-cc/containers/List";
    export { Dictionary } from "drongo-cc/containers/Dictionary";
    export { Res } from "drongo-cc/res/Res";
    export { ResRef } from "drongo-cc/res/ResRef";
    export { TaskQueue } from "drongo-cc/task/TaskQueue";
    export { TaskSequence } from "drongo-cc/task/TaskSequence";
    export { Debuger } from "drongo-cc/utils/Debuger";
}

declare module 'drongo-cc/audios/AudioManager' {
    import { ResURL } from "drongo-cc/res/ResURL";
    import { IAudioChannel } from "drongo-cc/audios/IAudioChannel";
    /**
        * 音频管理器
        */
    export class AudioManager {
            /**
                * 全局唯一注入KEY
                */
            static KEY: string;
            /**
                * 最大音频轨道数量
                */
            static MAX_SOUND_CHANNEL_COUNT: number;
            /**
                * 总音量
                */
            static get volume(): number;
            static set volume(value: number);
            /**
                * 音乐音量
                */
            static get musicVolume(): number;
            static set musicVolume(value: number);
            /**
                * 声音音量
                */
            static get soundVolume(): number;
            static set soundVolume(value: number);
            /**
                * 静音总开关
                */
            static get mute(): boolean;
            static set mute(value: boolean);
            /**
                * 音乐静音开关
                */
            static get muteMusic(): boolean;
            static set muteMusic(value: boolean);
            /**
                * 声音静音开关
                */
            static get muteSound(): boolean;
            static set muteSound(value: boolean);
            /**
                * 播放音乐
                * @param value
                */
            static playMusic(url: ResURL, volume?: number, speed?: number, loop?: boolean): void;
            /**
                * 停止音乐
                */
            static stopMusic(): void;
            /**
                * 暂停
                */
            static pauseMusic(): void;
            /**
                * 继续播放
                */
            static resumeMusic(): void;
            /**
                * 播放声音
                * @param value
                */
            static playSound(url: ResURL, playedCallBack: Function, volume: number, speed: number, loop: boolean): void;
            /**
                * 获取正在播放指定音频的轨道
                * @param url
                */
            static getPlaying(url: ResURL): IAudioChannel;
    }
}

declare module 'drongo-cc/utils/Injector' {
    /**
        * 注入器
        */
    export class Injector {
            /**
                * 注入
                * @param key
                * @param clazz   类型或实例
                */
            static inject(customKey: string, clazz: any): void;
            /**
                * 获取已注入的类型实例
                */
            static getInject(customKey: string): any | null;
    }
}

declare module 'drongo-cc/utils/Timer' {
    export interface ITimer {
            /**
                * 当前时间(推荐使用)
                */
            readonly currentTime: number;
            /**
                * 绝对时间(注意效率较差，不推荐使用！)
                */
            readonly absTime: number;
            /**
                * 重新校准
                */
            reset(): void;
    }
    /**
        * 时间工具类
        */
    export class Timer {
            static KEY: string;
            /**
                * 当前时间(推荐使用)
                */
            static get currentTime(): number;
            /**
                * 绝对时间(注意效率较差，不推荐使用！)
                */
            static get absTime(): number;
            /**
                * 重新校准
                */
            static reset(): void;
    }
}

declare module 'drongo-cc/tick/TickerManager' {
    import { ITicker } from "drongo-cc/tick/ITicker";
    import { ITickManager } from "drongo-cc/tick/ITickManager";
    /**
        * 心跳管理器
        */
    export class TickManager {
            static KEY: string;
            /**
                * 添加
                * @param value
                */
            static addTicker(value: ITicker): void;
            /**
                * 删除
                * @param value
                */
            static removeTicker(value: ITicker): void;
            /**
                * 下一帧回调
                * @param value
                */
            static callNextFrame(value: Function, caller: any): void;
            static clearNextFrame(value: Function, caller: any): void;
            static get impl(): ITickManager;
    }
}

declare module 'drongo-cc/containers/List' {
    import { EventDispatcher } from "drongo-cc/events/EventDispatcher";
    /**
        * 列表
        */
    export class List<T> extends EventDispatcher {
            /**
                * 元素数量(内部再增删时会修改这个参数，外部只做计算和绑定使用，切记不可做赋值操作！)
                */
            count: number;
            constructor(only?: boolean);
            /**
                * 添加到末尾(注意如果保证唯一性，那么重复时就直接返回)
                * @param value
                */
            push(value: T): boolean;
            /**
                * 添加到列表头部(注意如果保证唯一性，那么重复时就直接返回)
                * @param value
                * @returns
                */
            unshift(value: T): boolean;
            /**
                * 获取并删除最后一个元素
                * @returns
                */
            pop(): T;
            /**
                * 获取并删除第一个元素
                * @returns
                */
            shift(): T;
            /**
                * 删除指定索引的元素
                * @param index
                */
            removeAt(index: number): T;
            /**
                * 删除元素
                * @param value
                */
            remove(value: T): void;
            /**
                * 移除所有元素
                */
            clear(): void;
            /**
                * 判断是否包含
                * @param value
                * @returns
                */
            has(value: T): boolean;
            /**
                * 查找元素下标
                * @param value
                * @returns
                */
            find(value: T): number;
            /**
                * 查找元素下标
                * @param predicate
                * @returns
                */
            findIndex(predicate: (value: T, index: number, obj: T[]) => unknown): number;
            /**
                * 获取指定元素
                * @param index
                * @returns
                */
            get(index: number): T;
            /**
                * 源列表数据(注意不要直接进行增删操作，而是通过List.push....等接口进行操作)
                */
            get elements(): Array<T>;
    }
}

declare module 'drongo-cc/containers/Dictionary' {
    import { EventDispatcher } from "drongo-cc/events/EventDispatcher";
    /**
        * 字典
        */
    export class Dictionary<TKey, TValue> extends EventDispatcher {
            constructor();
            set(key: TKey, value: TValue): void;
            /**
                * 是否拥有指定KEY的元素
                * @param key
                * @returns
                */
            has(key: TKey): boolean;
            /**
                * 获取指定元素
                * @param key
                * @returns
                */
            get(key: TKey): TValue | undefined;
            /**
                * 通过索引获取元素
                * @param index
                * @returns
                */
            getValue(index: number): TValue | undefined;
            /**
                * 删除指定元素
                * @param key
                * @returns
                */
            delete(key: TKey): TValue | undefined;
            /**
                * 清除所有元素
                */
            clear(): void;
            /**
             * 元素列表
             */
            get elements(): Array<TValue>;
            get size(): number;
            destroy(): void;
    }
}

declare module 'drongo-cc/res/Res' {
    import { Asset, AssetManager } from "cc";
    import { Pool } from "drongo-cc/utils/Pool";
    import { ResRef } from "drongo-cc/res/ResRef";
    import { ResURL } from "drongo-cc/res/ResURL";
    export type ResLoader = (url: ResURL, bundle: AssetManager.Bundle, progress?: (progress: number) => void, cb?: (err: Error, asset: Asset) => void) => void;
    export class Res {
            /**资源对象池 */
            static resourcePool: Pool<any>;
            static setResLoader(key: string, loader: ResLoader): void;
            static getResLoader(key: string): ResLoader;
            /**
                * 获取资源引用
                * @param urls
                * @param refKey    谁持有该引用
                * @param progress  进度汇报函数
                * @returns
                */
            static getResRef(urls: ResURL | Array<ResURL>, refKey: string, progress?: (progress: number) => void): Promise<ResRef | Array<ResRef>>;
            /**
                * 默认加载器
                * @param url
                * @param bundle
                * @param progress
                * @param cb
                */
            static defaultAssetLoader(url: ResURL, bundle: AssetManager.Bundle, progress?: (progress: number) => void, cb?: (err: Error, asset: any) => void): void;
    }
}

declare module 'drongo-cc/res/ResRef' {
    export class ResRef {
            /**唯一KEY */
            key: string;
            /**引用KEY */
            refKey: string | undefined;
            /**资源内容 */
            content: any;
            constructor();
            /**释放 */
            dispose(): void;
            get isDispose(): boolean;
            reset(): void;
            /**
                * 彻底销毁(注意内部接口，请勿调用)
                */
            destroy(): void;
    }
}

declare module 'drongo-cc/task/TaskQueue' {
    import { EventDispatcher } from "drongo-cc/events/EventDispatcher";
    import { ITask } from "drongo-cc/task/ITask";
    /**
      * 任务队列
      */
    export class TaskQueue extends EventDispatcher implements ITask {
        constructor();
        addTask(value: ITask): void;
        removeTask(value: ITask): void;
        start(data?: any): void;
        destroy(): void;
    }
}

declare module 'drongo-cc/task/TaskSequence' {
    import { EventDispatcher } from "drongo-cc/events/EventDispatcher";
    import { ITask } from "drongo-cc/task/ITask";
    /**
      * 任务序列（并行）
      */
    export class TaskSequence extends EventDispatcher implements ITask {
        constructor();
        addTask(value: ITask): void;
        removeTask(value: ITask): void;
        start(data?: any): void;
        destroy(): void;
    }
}

declare module 'drongo-cc/utils/Debuger' {
    export class Debuger {
            /**
                * 最大保存条数
                */
            static MaxCount: number;
            /**
                * 设置过滤
                * @param key
                * @param isOpen
                */
            static debug(key: string, isOpen: boolean): void;
            /**
                * 获取已保存的日志
                * @param type
                * @returns
                */
            static getLogs(type?: string): Array<string>;
            static log(type: string, msg: any): void;
            static err(type: string, msg: any): void;
            static warn(type: string, msg: any): void;
            static info(type: string, msg: any): void;
    }
}

declare module 'drongo-cc/res/ResURL' {
    import { Asset } from "cc";
    export type ResURL = string | {
            url: string;
            bundle: string;
            type: string | typeof Asset;
    };
    /**
        * 资源地址转唯一KEY
        * @param url
        * @returns
        */
    export function resURL2Key(url: ResURL): string;
    /**
        * 唯一key转URL
        * @param key
        * @returns
        */
    export function key2ResURL(key: string): ResURL;
}

declare module 'drongo-cc/audios/IAudioChannel' {
    import { ResURL } from "drongo-cc/res/ResURL";
    /**
        * 音频通道
        */
    export interface IAudioChannel {
            readonly isPlaying: boolean;
            readonly url: ResURL;
            readonly curVolume: number;
            /**
                * 音量
                */
            volume: number;
            mute: boolean;
            /**
                * 播放
                * @param url
                * @param playedComplete
                * @param volume
                * @param fade
                * @param loop
                * @param speed
                */
            play(url: ResURL, playedComplete: Function, volume: number, fade: {
                    time: number;
                    startVolume: number;
                    complete?: Function;
            }, loop: boolean, speed: number): void;
            /**
                * 停止
                */
            stop(): void;
            /**
                *
                * @param time
                * @param startVolume
                * @param endVolume
                * @param complete
                * @param completeStop  结束后是否停止播放
                */
            fade(time: number, endVolume: number, startVolume?: number, complete?: Function, completeStop?: boolean): void;
            /**
                * 心跳
                * @param dt
                */
            tick(dt: number): void;
            pause(): void;
            resume(): void;
    }
}

declare module 'drongo-cc/tick/ITicker' {
    export interface ITicker {
        /**
          * 心跳
          * @param dt  间隔时间(秒)
          */
        tick(dt: number): void;
    }
}

declare module 'drongo-cc/tick/ITickManager' {
    import { ITicker } from "drongo-cc/tick/ITicker";
    export interface ITickManager {
            /**
                * 添加心跳
                * @param value
                */
            addTicker(value: ITicker): void;
            /**
                * 删除心跳
                * @param value
                */
            removeTicker(value: ITicker): void;
            /**
                * 下一帧回调
                * @param value
                * @param caller
                */
            callNextFrame(value: Function, caller: any): void;
            /**
                * 清理下一帧回调请求(如果存在的话)
                * @param value
                * @param caller
                */
            clearNextFrame(value: Function, caller: any): void;
    }
}

declare module 'drongo-cc/events/EventDispatcher' {
    import { IEventDispatcher } from "drongo-cc/events/IEventDispatcher";
    /**
        * 事件分发器(只有一对多的情况下去使用)
        */
    export class EventDispatcher implements IEventDispatcher {
            constructor();
            /**
                * 添加事件
                * @param key
                * @param caller
                * @param func
                * @param priority 优先级（数字越小优先级越高）
                */
            on(key: string, handler: (type: string, target?: any, ...arg: any[]) => void, caller: any, priority?: number): void;
            /**
                * 删除事件监听
                * @param key
                * @param caller
                * @param handler
                */
            off(key: string, handler: (type: string, target?: any, ...arg: any[]) => void, caller: any): void;
            /**
                * 删除指定对象所有的事件处理
                * @param caller
                */
            offByCaller(caller: any): void;
            /**
                * 删除所有事件监听
                */
            offAllEvent(): void;
            /**
                * 派发事件
                * @param key
                * @param data
                */
            emit(key: string, data?: any): void;
            /**
                * 是否有事件监听
                * @param key
                */
            hasEvent(key: string): boolean;
            /**
                * 是否包含指定函数事件监听
                * @param key
                * @param caller
                * @param func
                */
            hasEventHandler(key: string, handler: (type: string, target?: any, ...arg: any[]) => void, caller: any): boolean;
            destroy(): void;
    }
}

declare module 'drongo-cc/utils/Pool' {
    /**
        * 可重复利用对象接口
        */
    export interface IRecyclable {
            /**
                * 重置到可复用状态
                */
            reset(): void;
            /**
                * 销毁
                */
            destroy(): void;
    }
    /**
        * 对象池
        */
    export class Pool<T extends IRecyclable> {
            constructor(clazz: {
                    new (): T;
            }, maxCount?: number);
            /**
             * 在池中的对象
             */
            get count(): number;
            /**
                * 使用中的数量
                */
            get usingCount(): number;
            /**
                * 分配
                * @returns
                */
            allocate(): T;
            /**
                * 回收到池中
                * @param value
                * @returns
                */
            recycle(value: T): void;
            /**
                * 批量回收
                * @param list
                */
            recycleList(list: Array<T>): void;
            /**
                * 将所有使用中的对象都回收到池中
                */
            recycleAll(): void;
            destroy(): void;
    }
}

declare module 'drongo-cc/task/ITask' {
    import { IEventDispatcher } from "drongo-cc/events/IEventDispatcher";
    /**
        * 任务接口
        */
    export interface ITask extends IEventDispatcher {
            /**
                * 开始
                * @param data
                */
            start(data?: any): void;
            /**
                * 销毁
                */
            destroy(): void;
    }
}

declare module 'drongo-cc/events/IEventDispatcher' {
    /**
        * 事件分发器
        */
    export interface IEventDispatcher {
            /**
                * 添加事件
                * @param key
                * @param caller
                * @param handler
                * @param priority 优先级 数字越小优先级越高
                */
            on(key: string, handler: (type: string, target?: any, ...arg: any[]) => void, caller: any, priority?: number): void;
            /**
                * 删除事件监听
                * @param key
                * @param caller
                * @param handler
                */
            off(key: string, handler: (type: string, target?: any, ...arg: any[]) => void, caller: any): void;
            /**
                * 删除指定对象所有的事件处理
                * @param caller
                */
            offByCaller(caller: any): void;
            /**
                * 删除所有事件监听
                */
            offAllEvent(): void;
            /**
                * 派发事件
                * @param key
                * @param data
                */
            emit(key: string, data?: any): void;
            /**
                * 是否有事件监听
                * @param key
                */
            hasEvent(key: string): boolean;
            /**
                * 是否包含指定函数事件监听
                * @param key
                * @param caller
                * @param handler
                */
            hasEventHandler(key: string, handler: (type: string, target?: any, ...arg: any[]) => void, caller: any): boolean;
    }
}

